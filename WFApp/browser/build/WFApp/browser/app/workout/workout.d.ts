/// <reference types="dom-mediacapture-record" />
import './styleV2.scss';
import 'bootstrap';
import "jquery-confirm";
import '../../node_modules/jquery-confirm/dist/jquery-confirm.min.css';
import 'anypicker';
import { AudioInputDevice, AudioVideoFacade, AudioVideoObserver, ClientMetricReport, ContentShareObserver, DataMessage, DefaultBrowserBehavior, DefaultDeviceController, DefaultVideoTransformDevice, DeviceChangeObserver, EventAttributes, EventName, EventReporter, Logger, MeetingSession, MeetingSessionConfiguration, MeetingSessionStatus, MeetingSessionVideoAvailability, RemovableAnalyserNode, SimulcastLayers, VoiceFocusDeviceTransformer, VoiceFocusTransformDevice, POSTLogger, VideoTileState, ClientVideoStreamReceivingReport, VideoSource } from '../../../../src/index';
declare global {
    interface Window {
        webkitAudioContext: typeof AudioContext;
    }
}
declare class WorkoutTileOrganizer {
    static MAX_TILES: number;
    tiles: {
        [id: number]: number;
    };
    tileStates: {
        [id: number]: boolean;
    };
    remoteTileCount: number;
    acquireTileIndex(tileId: number): number;
    releaseTileIndex(tileId: number): number;
    releaseAll(): number;
}
export declare enum ContentShareType {
    ScreenCapture = 0,
    VideoFile = 1
}
interface Toggle {
    name: string;
    oncreate: (elem: HTMLElement) => void;
    action: () => void;
}
export declare class WorkoutApp implements AudioVideoObserver, DeviceChangeObserver, ContentShareObserver {
    static readonly DID: string;
    static readonly BASE_URL: string;
    static readonly LOGGER_BATCH_SIZE: number;
    static readonly LOGGER_INTERVAL_MS: number;
    static readonly MAX_MEETING_HISTORY_MS: number;
    static readonly DATA_MESSAGE_TOPIC: string;
    static readonly DATA_MESSAGE_LIFETIME_MS: number;
    static readonly SIGNAL_MESSAGE_LIFETIME_MS: number;
    static readonly DATA_MESSAGE_TOPIC_VIDEO_PAUSE: string;
    static readonly DATA_MESSAGE_TOPIC_VIDEO_STATUS: string;
    static readonly DATA_MESSAGE_TOPIC_GET_VIDEO_STATUS: string;
    chimeMeetingId: string;
    static readonly DATA_MESSAGE_TOPIC_MUTE_STATUS: string;
    static readonly DATA_MESSAGE_TOPIC_ONE_BY_ONE_CHAT_STATUS: string;
    static readonly DATA_MESSAGE_TOPIC_MEMBER_MUSIC_STATUS: string;
    static readonly DATA_MESSAGE_TOPIC_TRAINER_CAMERA_STATUS: string;
    static readonly DATA_MESSAGE_TOPIC_GET_TRAINER_CAMERA_STATUS: string;
    static readonly DATA_MESSAGE_TOPIC_PULSE_DATA: string;
    static readonly DATA_MESSAGE_TOPIC_JOIN_CUSTOMER: string;
    static readonly DATA_MESSAGE_TOPIC_OUT_ROOM: string;
    bShowedMemberList: boolean;
    bShowCountDownTimer: boolean;
    countdownType: number;
    taskId: string;
    scheduledTrainerName: string;
    startTime: any;
    endTime: any;
    isWorkoutOver: boolean;
    loadingBodyPixDependencyTimeoutMs: number;
    loadingBodyPixDependencyPromise: undefined | Promise<void>;
    showActiveSpeakerScores: boolean;
    activeSpeakerLayout: boolean;
    meeting: string | null;
    name: string | null;
    voiceConnectorId: string | null;
    region: string | null;
    meetingSession: MeetingSession | null;
    audioVideo: AudioVideoFacade | null;
    deviceController: DefaultDeviceController | undefined;
    tileOrganizer: WorkoutTileOrganizer;
    canStartLocalVideo: boolean;
    defaultBrowserBehaviour: DefaultBrowserBehavior;
    roster: any;
    tileIndexToTileId: {
        [id: number]: number;
    };
    tileIdToTileIndex: {
        [id: number]: number;
    };
    tileIndexToPauseEventListener: {
        [id: number]: (event: Event) => void;
    };
    tileArea: HTMLDivElement;
    trainerTileId: number;
    botTileId: number;
    coachTileId: number;
    bVirtualCoachWorkout: boolean;
    isFirstPerson: boolean;
    cameraDeviceIds: string[];
    microphoneDeviceIds: string[];
    currentAudioInputDevice: AudioInputDevice | undefined;
    buttonStates: {
        [key: string]: boolean;
    };
    recorder: MediaRecorder;
    contentShareType: ContentShareType;
    enableWebAudio: boolean;
    enableUnifiedPlanForChromiumBasedBrowsers: boolean;
    enableSimulcast: boolean;
    supportsVoiceFocus: boolean;
    enableVoiceFocus: boolean;
    voiceFocusIsActive: boolean;
    markdown: any;
    lastMessageSender: string | null;
    lastReceivedMessageTimestamp: number;
    meetingSessionPOSTLogger: POSTLogger;
    meetingEventPOSTLogger: POSTLogger;
    hasChromiumWebRTC: boolean;
    voiceFocusTransformer: VoiceFocusDeviceTransformer | undefined;
    voiceFocusDevice: VoiceFocusTransformDevice | undefined;
    voiceFocusDisplayables: HTMLElement[];
    analyserNode: RemovableAnalyserNode;
    chosenVideoTransformDevice: DefaultVideoTransformDevice;
    meetingLogger: Logger | undefined;
    eventReporter: EventReporter | undefined;
    enableEventReporting: boolean;
    videoInfoList: any;
    videoInfo: any;
    customerAge: number;
    customerProfileAvatar: any;
    customerLocation: any;
    customerBirthday: any;
    workoutId: number;
    classScheduleId: any;
    classNo: string;
    customerNo: string;
    workoutVersion: number;
    workoutName: string;
    customerId: any;
    videoVolume: number;
    role: string;
    level: string;
    trainSong: any;
    isOpenedMessageChatBox: boolean;
    isSpeakerSoundPaused: boolean;
    groupId: string;
    isBWCMutedTrainer: boolean;
    isBWCMutedMemberMusic: boolean;
    isMutedMicrophone: boolean;
    isMutedTrainerMusic: boolean;
    isMutedSpeaker: boolean;
    isMutedMemberMusic: boolean;
    isRecording: boolean;
    recordingExerciseId: Number;
    allCustomerDetail: any;
    static static_api_base_url: any;
    api_base_url: any;
    bPrivateChating: boolean;
    currentCustomerJSON: any;
    isRuningThreeMinuteLeftTimer: boolean;
    bAudioMeterPreview: boolean;
    chunks: Blob[];
    constructor();
    /**
     * We want to make it abundantly clear at development and testing time
     * when an unexpected error occurs.
     * If we're running locally, or we passed a `fatal=1` query parameter, fail hard.
     */
    fatal(e: Error | string): void;
    AccessValueOfQueryString(): any;
    decode(s: string): string;
    removeOptions(selectElement: any): void;
    getRandomStr(length: number): string;
    initParameters(): void;
    getCustomerDetail(customerId: any): Promise<any>;
    getCustomerPulse(customerId: any): Promise<any>;
    setVideoAndTrainerMicVolume(selfvolumebarVolume: number): void;
    getTrainerVideos(): Promise<void>;
    switchPlay(itemIndex: any): void;
    initVoiceFocus(): Promise<void>;
    private onVoiceFocusSettingChanged;
    setDefaultSetting(isFirstLoad: boolean): void;
    initEventListeners(): void;
    endRecording(): void;
    startRecording(): void;
    checkVideoInputError(e: any): void;
    setVideoInputQuality(): void;
    setDevices(): Promise<boolean>;
    getNearestMediaRegion(): Promise<string>;
    toggleButton(button: string, state?: 'on' | 'off'): boolean;
    isButtonOn(button: string): boolean;
    displayButtonStates(): void;
    confirmEndMeeting(): void;
    showProgress(id: string): void;
    hideProgress(id: string): void;
    switchToFlow(flow: string): void;
    onAudioInputsChanged(freshDevices: MediaDeviceInfo[]): Promise<void>;
    audioInputsChanged(freshAudioInputDeviceList: MediaDeviceInfo[]): void;
    videoInputsChanged(_freshVideoInputDeviceList: MediaDeviceInfo[]): void;
    audioOutputsChanged(_freshAudioOutputDeviceList: MediaDeviceInfo[]): void;
    audioInputStreamEnded(deviceId: string): void;
    videoInputStreamEnded(deviceId: string): void;
    estimatedDownlinkBandwidthLessThanRequired(estimatedDownlinkBandwidthKbps: number, requiredVideoDownlinkBandwidthKbps: number): void;
    videoNotReceivingEnoughData(videoReceivingReports: ClientVideoStreamReceivingReport[]): void;
    metricsDidReceive(clientMetricReport: ClientMetricReport): void;
    createLogStream(configuration: MeetingSessionConfiguration, pathname: string): Promise<void>;
    eventDidReceive(name: EventName, attributes: EventAttributes): void;
    initializeMeetingSession(configuration: MeetingSessionConfiguration): Promise<void>;
    setupEventReporter(configuration: MeetingSessionConfiguration): Promise<EventReporter>;
    private isLocalHost;
    join(): Promise<void>;
    pingToServer(): void;
    leave(): Promise<void>;
    setupMuteHandler(): void;
    setupCanUnmuteHandler(): void;
    heartGetPercent(pulseRate: any, personAge: any): number;
    buildCustomerHeartRate(customerPulseList: any): void;
    deleteRoster(attendeeId: any): void;
    addNewRoster(attendeeId: any): void;
    updateRoster(): void;
    updateProperty(obj: any, key: string, value: string): void;
    presenceHandler: (attendeeId: string, present: boolean, externalUserId: string, dropped: boolean) => void;
    setupSubscribeToAttendeeIdPresenceHandler(): void;
    dataMessageHandler(dataMessage: DataMessage): void;
    rebootBot(): void;
    restartWorkout(): void;
    sendCameraRotationStatus(): void;
    sendSwitchCoachVideoStatus(): void;
    sendSwitchRecordingVideoStatus(): void;
    setupDataMessage(): void;
    joinRoom(roomId: string): void;
    setBWCMixedAudio(trainerVolume?: any, memberMusicVolume?: any): void;
    muteAndUnmuteMicrophone(volume?: any, isNotSaved?: boolean): void;
    muteAndUnmuteSpeaker(volume?: any, isNotSaved?: boolean, isClickedSpeakerBtn?: boolean): void;
    unmuteSpeaker(): void;
    muteSpeaker(): void;
    muteAndUnmuteMemberMusicVolume(volume?: any): void;
    playNextVideo(currentPos: number): void;
    pauseVideo(): void;
    BackToDashboard(done: any, err?: string): void;
    startBot(): void;
    setTaskId(): Promise<any>;
    joinMeeting(): Promise<any>;
    endMeeting(): Promise<any>;
    getAttendee(attendeeId: string): Promise<any>;
    setupDeviceLabelTrigger(): void;
    populateDeviceList(elementId: string, genericName: string, devices: MediaDeviceInfo[], additionalOptions: string[]): void;
    populateInMeetingDeviceList(elementId: string, genericName: string, devices: MediaDeviceInfo[], additionalOptions: string[], additionalToggles: Toggle[] | undefined, callback: (name: string) => void): void;
    createDropdownMenuItem(menu: HTMLDivElement, title: string, clickHandler: () => void, id?: string): HTMLButtonElement;
    populateAllDeviceLists(): Promise<void>;
    populateAudioInputList(): Promise<void>;
    private isVoiceFocusActive;
    private updateVoiceFocusDisplayState;
    private isVoiceFocusEnabled;
    private reselectAudioInputDevice;
    private toggleVoiceFocusInMeeting;
    populateVideoInputList(): Promise<void>;
    populateAudioOutputList(): Promise<void>;
    private chooseAudioOutputDevice;
    private analyserNodeCallback;
    selectedAudioInput(): Promise<AudioInputDevice>;
    selectAudioInputDevice(device: AudioInputDevice): Promise<void>;
    selectAudioInputDeviceByName(name: string): Promise<void>;
    openAudioInputFromSelection(): Promise<void>;
    openAudioInputFromSelectionAndPreview(): Promise<void>;
    setAudioPreviewPercent(percent: number): void;
    stopVideoPreview(): void;
    stopAudioPreview(): Promise<void>;
    startAudioPreview(): void;
    openAudioOutputFromSelection(): Promise<void>;
    private selectedVideoInput;
    openVideoInputFromSelection(selection: string | null, showPreview: boolean): Promise<boolean>;
    private audioInputSelectionToIntrinsicDevice;
    private getVoiceFocusDeviceTransformer;
    private createVoiceFocusDevice;
    private audioInputSelectionWithOptionalVoiceFocus;
    private audioInputSelectionToDevice;
    private videoInputSelectionToDevice;
    private initContentShareDropDownItems;
    private playToStream;
    private contentShareStart;
    private contentShareStop;
    private updateContentShareDropdown;
    isRecorder(): boolean;
    isBroadcaster(): boolean;
    stopBot(): Promise<void>;
    getClassScheduleDetail(): Promise<void>;
    authenticate(): Promise<string>;
    log(str: string, ...args: any[]): void;
    audioVideoDidStartConnecting(reconnecting: boolean): void;
    audioVideoDidStart(): void;
    audioVideoDidStop(sessionStatus: MeetingSessionStatus): void;
    createPauseResumeListener(tileState: VideoTileState): (event: Event) => void;
    videoTileDidUpdate(tileState: VideoTileState): void;
    videoTileWasRemoved(tileId: number): void;
    videoAvailabilityDidChange(availability: MeetingSessionVideoAvailability): void;
    showTile(tileElement: HTMLDivElement, tileState: VideoTileState): void;
    hideTile(tileIndex: number): void;
    tileIdForAttendeeId(attendeeId: string): number | null;
    findContentTileId(): number | null;
    activeTileId(): number | null;
    layoutFeaturedTile(): void;
    updateGridClasses(): void;
    availablelTileSize(): number;
    localTileId(): number | null;
    visibleTileIndices(): number[];
    setUpVideoTileElementResizer(): void;
    allowMaxContentShare(): boolean;
    connectionDidBecomePoor(): void;
    connectionDidSuggestStopVideo(): void;
    connectionDidBecomeGood(): void;
    videoSendDidBecomeUnavailable(): void;
    contentShareDidStart(): void;
    contentShareDidStop(): void;
    contentShareDidPause(): void;
    contentShareDidUnpause(): void;
    encodingSimulcastLayersDidChange(simulcastLayers: SimulcastLayers): void;
    remoteVideoSourcesDidChange(videoSources: VideoSource[]): void;
    onTimesUp(type: any): void;
    startTimer(time: any, type: any): void;
}
export {};
